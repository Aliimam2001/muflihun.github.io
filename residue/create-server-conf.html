<html>
<head>
 <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0,minimum-scale=1.0,user-scalable=0'/>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<style>
body { padding: 10px; }
h4 { color: #666;}
.field-label::after {
	content: ':';
}
#output {
	width: 500px;
	height: 300px;
	font-family: monospace;
}
</style>
<script src="assets/jquery.min.js"></script>
<script>
	$(document).ready(function() {
		$('#generate').click(function() {
			var conf = {};
			$('.field-value > input').each(function(idx, item) {
				var val = $(item).val();
				if ($(item).attr('type') === 'number') {
					val = parseInt(val);
				} else if ($(item).attr('type') === 'checkbox') {
					val = $(item).is(':checked');
				}
			    conf[$(item).attr('id')] = val;
			});
			console.log(conf);
			$('#output').text(JSON.stringify(conf, null, 2));
		});
		
		$('#load').click(function() {
			var conf = JSON.parse($('#output').val());
			for (var key in conf) {
			  if (conf.hasOwnProperty(key)) {
				 $('#' + key).val(conf[key]);
				 console.log(conf[key]);
			  }
			}
		});
	});
</script>
</head>
<body>
<h3><img src='/labs.png' style='width:64px;height:auto;vertical-align: bottom;' /> Muflihun Labs</h3>
<br/>
<img style='width:256px;max-width:50%;' src='https://muflihun.github.io/residue/Residue.png' />
<br/>
<h4>Create Server Config</h4>
<div>
	<div class="field">
		<span class="field-label"><label>Admin Port</label></span>
		<span class="field-value"><input type='number' id='admin_port' value='8776' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Connect Port</label></span>
		<span class="field-value"><input type='number' id='connect_port' value='8777' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Token Port</label></span>
		<span class="field-value"><input type='number' id='token_port' value='8778' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Logging Port</label></span>
		<span class="field-value"><input type='number' id='logging_port' value='8779' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Server Admin Key</label></span>
		<span class="field-value"><input type='text' id='server_key' value='' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Server Private Key (File Path)</label></span>
		<span class="field-value"><input type='text' id='server_rsa_private_key' value='' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Server Public Key (File Path)</label></span>
		<span class="field-value"><input type='text' id='server_rsa_public_key' value='' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Default Key Size</label></span>
		<span class="field-value"><input type='number' id='logging_port' value='256' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Default Token Age</label></span>
		<span class="field-value"><input type='number' id='token_age' value='3600' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Max Token Age</label></span>
		<span class="field-value"><input type='number' id='max_token_age' value='0' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Client Age</label></span>
		<span class="field-value"><input type='number' id='client_age' value='3600' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Non-Ack Client Age</label></span>
		<span class="field-value"><input type='number' id='non_acknowledged_client_age' value='300' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Client Integrity Schedule</label></span>
		<span class="field-value"><input type='number' id='client_integrity_task_interval' value='300' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Maximum Bulk Items</label></span>
		<span class="field-value"><input type='number' id='max_items_in_bulk' value='50' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>Dispatch Delay (ms)</label></span>
		<span class="field-value"><input type='number' id='dispatch_delay' value='1' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>authorize_loggers_with_no_access_code</label></span>
		<span class="field-value"><input type='checkbox' id='authorize_loggers_with_no_access_code' checked /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>allow_plain_connection</label></span>
		<span class="field-value"><input type='checkbox' id='allow_plain_connection' checked /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>allow_unknown_loggers</label></span>
		<span class="field-value"><input type='checkbox' id='allow_plain_connection' checked /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>allow_unknown_clients</label></span>
		<span class="field-value"><input type='checkbox' id='allow_plain_connection' checked /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>accept_input</label></span>
		<span class="field-value"><input type='checkbox' id='allow_plain_connection' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>check_tokens</label></span>
		<span class="field-value"><input type='checkbox' id='check_tokens' checked /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>allow_plain_log_request</label></span>
		<span class="field-value"><input type='checkbox' id='allow_plain_log_request' checked /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>immediate_flush</label></span>
		<span class="field-value"><input type='checkbox' id='immediate_flush' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>compression</label></span>
		<span class="field-value"><input type='checkbox' id='compression' checked /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>allow_pinging_dead_client</label></span>
		<span class="field-value"><input type='checkbox' id='allow_pinging_dead_client' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>archived_log_directory</label></span>
		<span class="field-value"><input type='text' id='archived_log_directory' value='' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>archived_log_filename</label></span>
		<span class="field-value"><input type='text' id='archived_log_filename' value='' /></span>
	</div>
	<div class="field">
		<span class="field-label"><label>archived_log_compressed_filename</label></span>
		<span class="field-value"><input type='text' id='archived_log_compressed_filename' value='' /></span>
	</div>
	
	<button id='generate'>Generate</button><br/>
	<br/>
	<br/>
	<textarea id='output'>
		
	</textarea>
	<br/>
	<br/>
	<button id='load'>Load</button>
</div>
<br/>
<a href='/residue/docs'>C++ API Documentation</a> <br/>
<a href='https://github.com/muflihun/residue'>Github</a> <br/>
<br/>
<a href='/'>Home</a><br/>
<hr/>
<div style='text-align: center'>&copy; <a href='https://muflihun.com'>Muflihun.com<a/></div>
</body>
</html>
