<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ripe: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ripe
   </div>
   <div id="projectbrief">256-bit security tool</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Ripe Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>‫بسم الله الرَّحْمَنِ الرَّحِيمِ</p>
<div class="image">
<img src="https://raw.githubusercontent.com/muflihun/ripe/master/ripe.png?" alt="Ripe"/>
</div>
<p><a class="el" href="class_ripe.html" title="The Ripe class is core of Ripe library and contains all the required cryptography API supported by Ri...">Ripe</a> is a 256-bit security tool. It consists of command-line tool and C++ API for cryptography.</p>
<p><a class="el" href="class_ripe.html" title="The Ripe class is core of Ripe library and contains all the required cryptography API supported by Ri...">Ripe</a> contains encryption API for two major cryptography methods, RSA and AES (Rijndael). Also contains Base64 encoding/decoding API and some helper functions to make data transferable (called <code>prepareData</code>). Binaries do not depend on third-party tools or libraries but development will require cryptography libraries installed in system in order to compile.</p>
<p><a class="el" href="class_ripe.html" title="The Ripe class is core of Ripe library and contains all the required cryptography API supported by Ri...">Ripe</a> is fully compatible with OpenSSL. See <a href="/openssl-compatibility.sh">openssl-compatibility.sh</a></p>
<p><a href="https://travis-ci.org/muflihun/ripe"></a> (<code>develop</code>)</p>
<p><a href="https://travis-ci.org/muflihun/ripe"></a> (<code>master</code>)</p>
<p><a href="https://github.com/muflihun/ripe/releases/latest"></a></p>
<p><a href="https://muflihun.github.io/ripe"></a></p>
<p><a href="https://github.com/muflihun/ripe/blob/master/LICENCE"></a></p>
<p><a href="https://www.paypal.me/MuflihunDotCom/25"></a></p>
<h2>Options</h2>
<table class="doxtable">
<tr>
<th>Option Name </th><th>Description  </th></tr>
<tr>
<td><code>--version</code> </td><td>Display version information </td></tr>
<tr>
<td><code>-g</code> </td><td>Generate key </td></tr>
<tr>
<td><code>-e</code> </td><td>Encrypt the data </td></tr>
<tr>
<td><code>-d</code> </td><td>Decrypt the data </td></tr>
<tr>
<td><code>--aes</code> </td><td>Generate AES key (requires <code>-g</code>) </td></tr>
<tr>
<td><code>--key</code> </td><td>Symmetric key for encryption / decryption </td></tr>
<tr>
<td><code>--in-key</code> </td><td>Symmetric key for encryption / decryption file path </td></tr>
<tr>
<td><code>--iv</code> </td><td>Initializaion vector for decription </td></tr>
<tr>
<td><code>--rsa</code> </td><td>Use RSA encryption/decryption </td></tr>
<tr>
<td><code>--raw</code> </td><td>Raw output for rsa encrypted data </td></tr>
<tr>
<td><code>--base64</code> </td><td>Tells ripe the data needs to be decoded before decryption (this can be used for decoding base64) </td></tr>
<tr>
<td><code>--hex</code> </td><td>Tells ripe the data is hex string </td></tr>
<tr>
<td><code>--clean</code> </td><td>(Only applicable when <code>--base64</code> data provided) Tells ripe to clean the data before processing </td></tr>
<tr>
<td><code>--in</code> </td><td>Input file. You can also pipe in the data. In that case you do not have to provide this parameter </td></tr>
<tr>
<td><code>--out</code> </td><td>Tells ripe to store encrypted data in specified file. (Outputs IV in console) </td></tr>
<tr>
<td><code>--length</code> </td><td>Specify key length </td></tr>
<tr>
<td><code>--secret</code> </td><td>Secret key for encrypted private key (RSA only) </td></tr>
</table>
<h2>Getting Started</h2>
<h3>Minimum Requirements</h3>
<p>These are the requirements to build <a class="el" href="class_ripe.html" title="The Ripe class is core of Ripe library and contains all the required cryptography API supported by Ri...">Ripe</a> binaries. When you use it in your C++ application, you can do so without following dependencies, including older version of C++ as long as you the machine has dynamic library for <code>libstdc++</code>.</p>
<ul>
<li>C++11</li>
<li><a href="https://github.com/muflihun/easyloggingpp">Easylogging++ v9.94.1</a></li>
<li><a href="https://www.cryptopp.com/">Crypto++ v5.6.5</a> (with Pem Pack)</li>
<li><a href="https://cmake.org/">CMake Toolchains</a> 2.8.12</li>
</ul>
<h3>Get Code</h3>
<p>You can either <a href="https://github.com/muflihun/ripe/archive/master.zip">download code from master branch</a> or clone it using <code>git</code>:</p>
<div class="fragment"><div class="line">git clone git@github.com:muflihun/ripe.git</div></div><!-- fragment --><h3>Build</h3>
<p>Residue uses the CMake toolchains to create makefiles. Steps to build <a class="el" href="class_ripe.html" title="The Ripe class is core of Ripe library and contains all the required cryptography API supported by Ri...">Ripe</a>:</p>
<div class="fragment"><div class="line">mkdir build</div><div class="line">cd build</div><div class="line">cmake ..</div><div class="line">cmake -Dtest=ON ..</div><div class="line">make</div></div><!-- fragment --><p>Please consider running unit test before you move on</p>
<div class="fragment"><div class="line">make test</div></div><!-- fragment --><p>The compilation process creates executable (<code>ripe</code>) as well as shared libraries in build directory. You can install it in system-wide directory using:</p>
<div class="fragment"><div class="line">make install</div></div><!-- fragment --><p>If the default path (<code>/usr/local</code>) is not where you want things installed, then set the <code>CMAKE_INSTALL_PREFIX</code> option when running cmake. e.g,</p>
<div class="fragment"><div class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/usr/bin</div></div><!-- fragment --><h3>Static Linking</h3>
<p>By default ripe builds as shared library, you can pass <code>build_static_lib</code> option in cmake to build static library.</p>
<p>For example</p>
<div class="fragment"><div class="line">cmake -Dbuild_static_lib=ON ..</div><div class="line">make</div></div><!-- fragment --><h3>Windows</h3>
<p>You can do <code>cmake -Ddll_export=ON ...</code> to export symbols and <code>cmake -Ddll=ON ...</code> to import if needed</p>
<h3>If build fails...</h3>
<p>Make sure you have read <a href="#minimum-requirements">minimum requirements</a>. You can install required Crypto++ v5.6.5 (with Pem Pack) using following commands</p>
<div class="fragment"><div class="line">wget -O cryptocpp.tar.gz https://github.com/weidai11/cryptopp/archive/CRYPTOPP_5_6_5.tar.gz</div><div class="line">tar xf cryptocpp.tar.gz</div><div class="line">cd cryptopp-CRYPTOPP_5_6_5</div><div class="line">wget -O pem_pack.zip https://raw.githubusercontent.com/muflihun/muflihun.github.io/master/downloads/Pem-pack.zip</div><div class="line">unzip pem_pack.zip</div><div class="line">cmake .</div><div class="line">make</div><div class="line">make install</div></div><!-- fragment --><p>and Easylogging++ using</p>
<div class="fragment"><div class="line">wget -O easylogging++.zip https://github.com/muflihun/easyloggingpp/archive/master.zip</div><div class="line">unzip easylogging++.zip</div><div class="line">cd easyloggingpp-master/</div><div class="line">cmake -Dtest=ON .</div><div class="line">make</div><div class="line">./easyloggingpp-unit-tests</div><div class="line">make install</div></div><!-- fragment --><p>If <code>make install</code> fails because of permission try to run it as super-user <code>sudo make install</code></p>
<h2>Examples</h2>
<h3>Encryption (AES)</h3>
<p>Following command will encrypt <code>sample.json</code> file to be ready to send to the server.</p>
<p><code>echo "plain text" | ripe -e --key B1C8BFB9DA2D4FB054FE73047AE700BC</code></p>
<p>You can specify binary file as destination that will save only encrypted data, e.g,</p>
<p><code>echo "plain text" | ripe -e --key B1C8BFB9DA2D4FB054FE73047AE700BC --out sample.enc</code></p>
<p>Above command will provide you with IV that you can use to decrypt</p>
<p>Please note: If you do not provide <code>--out</code>, the output will base64 and it will have four parts. <code>{LENGTH}:{IV}:{Client_ID}:{Base64_Encoded_Encrypted_Data}</code>.</p>
<h3>Decryption (AES)</h3>
<p>Following command will decrypt <code>hkz20HKQA491wZqbEctxCA==</code> (<code>plain text</code>) that was supposedly encrypted using same key and init vector.</p>
<p><code>echo "hkz20HKQA491wZqbEctxCA==" | ripe -d --key B1C8BFB9DA2D4FB054FE73047AE700BC --iv 88505d29e8f56bbd7c9e1408f4f42240 --base64</code></p>
<p>You can also provide filename, e.g,</p>
<p><code>ripe -d --key B1C8BFB9DA2D4FB054FE73047AE700BC --in sample.enc --iv 88505d29e8f56bbd7c9e1408f4f42240</code></p>
<p>OR</p>
<p><code>echo 88505d29e8f56bbd7c9e1408f4f42240:hkz20HKQA491wZqbEctxCA== | ripe -d --key B1C8BFB9DA2D4FB054FE73047AE700BC --base64</code></p>
<h3>Generate AES Key</h3>
<p>Following command will generate 128-bit AES key</p>
<div class="fragment"><div class="line">ripe -g --aes 256</div></div><!-- fragment --><p>Alternatively you can do </p><div class="fragment"><div class="line">ripe -g --aes --length 256</div></div><!-- fragment --><p>Valid keys sizes: <code>128-bit</code>, <code>192-bit</code>, <code>256-bit</code></p>
<h3>Generate RSA Key</h3>
<p>Following command will produce random RSA key pair</p>
<div class="fragment"><div class="line">ripe -g --rsa --out-private private.pem --out-public public.pem</div></div><!-- fragment --><p>Alternatively you can use</p>
<div class="fragment"><div class="line">ripe -g --rsa</div></div><!-- fragment --><p>This will give you two base64 strings with <code>:</code> as separator. First encoded text is base64 of newly generated private key and second being newly generated corresponding public key.</p>
<h3>Encryption (RSA)</h3>
<p>You can encrypt the data using public key and decrypt with a private key</p>
<div class="fragment"><div class="line">echo &#39;plain text&#39; | ripe -e --rsa --in-key public.pem</div></div><!-- fragment --><p>You can also use <code>--out /tmp/output.enc</code> to save it to <code>/tmp/output.enc</code> file</p>
<p>You can also add <code>--raw</code> option to output raw data instead of base64 encoded</p>
<p>### Decryption (RSA) </p><div class="fragment"><div class="line">ripe -d --rsa --in-key private.pem --in /tmp/output.enc --base64</div></div><!-- fragment --><p>Please note, decryption (RSA) is unstable at the moment, you may use following alternative command until it's fixed</p>
<div class="fragment"><div class="line">cat /tmp/output.enc | openssl rsautl -decrypt -inkey private.pem --base64</div></div><!-- fragment --><h4>Encrypted Keys</h4>
<p>If you have an RSA key that is encrypted with pass phrase, let's say </p><div class="fragment"><div class="line">openssl genrsa -des3 -out private.pem 2048</div></div><!-- fragment --><p>extract public key: <code>openssl rsa -in private.pem -outform PEM -pubout -out public.pem</code></p>
<p>You can use <code>--secret</code> to decrypt it</p>
<p>for example</p>
<p>Encrypt:</p>
<div class="fragment"><div class="line">echo ff | ripe -e --rsa --in-key public.pem</div></div><!-- fragment --><p>Decrypt (pass phrase we chose was ppks):</p>
<div class="fragment"><div class="line">ripe -d --rsa --in-key private.pem --base64 --secret ppks</div></div><!-- fragment --><p>Failing to provide <code>--secret</code> option will give you error:</p>
<div class="fragment"><div class="line">ERROR: PEM_Load: RSA private key is encrypted</div></div><!-- fragment --><h3>Base64 Encoding</h3>
<p>You can use following commands to encode raw data to base64 encoding</p>
<div class="fragment"><div class="line">echo &#39;plain text&#39; | ripe -e --base64</div></div><!-- fragment --><h3>Base64 Decoding</h3>
<p>In order to decode you may use <code>-d</code> option instead</p>
<div class="fragment"><div class="line">echo &#39;cGxhaW4gdGV4dAo=&#39; | ripe -d --base64</div></div><!-- fragment --><h3>Hex Encoding</h3>
<p>You can use following to encode data to hex encoded string</p>
<div class="fragment"><div class="line">echo &#39;plain text&#39; | ripe -e --hex</div></div><!-- fragment --><h3>Hex Decoding</h3>
<p>Decoding hex can be done using <code>-d</code> option</p>
<div class="fragment"><div class="line">echo 706c61696e2074657874 | ripe -d --hex</div></div><!-- fragment --><h2>Licence</h2>
<div class="fragment"><div class="line">The MIT License (MIT)</div><div class="line"></div><div class="line">Copyright (c) 2017 Muflihun Labs</div><div class="line"></div><div class="line">http://github.com/muflihun/</div><div class="line">http://muflihun.com</div><div class="line"></div><div class="line">Permission is hereby granted, free of charge, to any person obtaining a copy of</div><div class="line">this software and associated documentation files (the &quot;Software&quot;), to deal in</div><div class="line">the Software without restriction, including without limitation the rights to</div><div class="line">use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of</div><div class="line">the Software, and to permit persons to whom the Software is furnished to do so,</div><div class="line">subject to the following conditions:</div><div class="line"></div><div class="line">The above copyright notice and this permission notice shall be included in all</div><div class="line">copies or substantial portions of the Software.</div><div class="line"></div><div class="line">THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR</div><div class="line">IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS</div><div class="line">FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR</div><div class="line">COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER</div><div class="line">IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN</div><div class="line">CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
